# Axiom Go Adapter for sirupsen/logrus

Adapter to ship logs generated by [sirupsen/logrus](https://github.com/sirupsen/logrus)
to Axiom.

## Quickstart

Follow the [Axiom Go Quickstart](https://github.com/axiomhq/axiom-go#quickstart)
to install the Axiom Go package and configure your environment.

Import the package:

```go
// Imported as "adapter" to not conflict with the "sirupsen/logrus" package.
import adapter "github.com/axiomhq/axiom-go/adapters/logrus"
```

You can also configure the adapter using [options](https://pkg.go.dev/github.com/axiomhq/axiom-go/adapters/logrus#Option)
passed to the [New](https://pkg.go.dev/github.com/axiomhq/axiom-go/adapters/logrus#New)
function:

```go
hook, err := adapter.New(
    SetDataset("AXIOM_DATASET"),
)
```

To configure the underlying client manually either pass in a client that was
created according to the [Axiom Go Quickstart](https://github.com/axiomhq/axiom-go#quickstart)
using [SetClient](https://pkg.go.dev/github.com/axiomhq/axiom-go/adapters/logrus#SetClient)
or pass [client options](https://pkg.go.dev/github.com/axiomhq/axiom-go/axiom#Option)
to the adapter using [SetClientOptions](https://pkg.go.dev/github.com/axiomhq/axiom-go/adapters/logrus#SetClientOptions).

```go
import adapter "github.com/axiomhq/axiom-go/axiom"

// ...

hook, err := adapter.New(
    SetClientOptions(
        axiom.SetPersonalTokenConfig("AXIOM_TOKEN", "AXIOM_ORG_ID"),
    ),
)
```

### ❗ Important ❗

The adapter uses a buffer to batch events before sending them to Axiom. This
buffer must be flushed explicitly by calling [Close](https://pkg.go.dev/github.com/axiomhq/axiom-go/adapters/logrus#Hook.Close).
Checkout out the [example](../../examples/logrus/main.go).
